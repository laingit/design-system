// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

// ------------
// Init
// ------------
@import '../../../shared/common/init';

// ------------
// Mixins
// ------------
@import '../mixins/index';

/**
 * @name base
 * @summary
 * @selector .lwc-button-icon
 * @restrict button, a
 * @variant
 */
.lwc-button-icon {
  @include button-icon-reset;
  @include button-icon-normalize;
}

/**
 * @name brand
 * @summary
 * @selector .lwc-button-icon_brand
 * @restrict .lwc-button-icon
 * @modifier
 * @group theme
 */
.lwc-button-icon_brand {
  --lwc-c-button-icon-color-background: var(--lwc-c-button-icon-color-background-brand, var(--lwc-brand-accessible, $brand-accessible));
  --lwc-c-button-icon-color-border: var(--lwc-c-button-icon-color-border-brand, var(--lwc-brand-accessible, $brand-accessible));
  --lwc-c-button-icon-color: var(--lwc-c-button-icon-color-brand, $color-gray-1);
  --lwc-c-button-icon-shadow: var(--lwc-c-button-icon-shadow-brand, var(--lwc-c-button-shadow-brand, none));

  --lwc-c-button-icon-color-background-active: var(--lwc-c-button-icon-color-background-brand-active, var(--lwc-brand-accessible-active, $brand-accessible-active));
  --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border-brand-active, var(--lwc-brand-accessible-active, $brand-accessible-active));
  --lwc-c-button-icon-color-active: var(--lwc-c-button-icon-color-brand-active, $color-gray-1);

  &:active {
    --lwc-c-button-icon-color-background: var(--lwc-c-button-icon-color-background-brand-active, var(--lwc-brand-accessible-active, $brand-accessible-active));
    --lwc-c-button-icon-color-border: var(--lwc-c-button-icon-color-border-brand-active, var(--lwc-brand-accessible-active, $brand-accessible-active));
  }

  &[disabled],
  &:disabled {
    --lwc-c-button-icon-color-background: $brand-disabled;
    --lwc-c-button-icon-color-border: $brand-disabled;
    --lwc-c-button-icon-color: $color-gray-5;
    --lwc-c-button-icon-color-background-active: $brand-disabled;
    --lwc-c-button-icon-color-border-active: $brand-disabled;
    --lwc-c-button-icon-color-active: $color-gray-5;
  }
}

/**
 * @summary Adds a background fill of white and border to a button icon
 * @selector .lwc-button-icon_neutral
 * @restrict .lwc-button-icon
 * @modifier
 */
.lwc-button-icon_neutral {
  --lwc-c-button-icon-color-background: var(--lwc-c-button-icon-color-background-neutral, $color-gray-1);
  --lwc-c-button-icon-color-border: var(--lwc-c-button-icon-color-border-neutral, $color-border);
  --lwc-c-button-icon-color-background-active: var(--lwc-c-button-icon-color-background-neutral-active, $color-gray-1);
  --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border-neutral, $color-border);
}

/**
 * @summary Adds a bordered container to a button icon
 * @selector .lwc-button-icon_neutral-outline
 * @restrict .lwc-button-icon
 * @modifier
 */
.lwc-button-icon_neutral-outline {
  --lwc-c-button-icon-color-border: var(--lwc-c-button-icon-color-border-neutral, $color-border);
  --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border-neutral, $color-border);
}

/**
 * @name inverse
 * @summary Creates the inverse button style
 * @selector .lwc-button_inverse
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button-icon_inverse {
  --lwc-c-button-icon-color-background: var(--lwc-c-button-icon-color-background-inverse, var(--lwc-c-button-color-background-inverse, transparent));
  --lwc-c-button-icon-color-border: var(--lwc-c-button-icon-color-border-inverse, var(--lwc-c-button-color-border-inverse, $color-gray-1));
  --lwc-c-button-icon-color: var(--lwc-c-button-icon-color-inverse, var(--lwc-c-button-color-inverse, $color-gray-1));

  --lwc-c-button-icon-color-background-active: var(--lwc-c-button-icon-color-background-inverse-active, transparent);
  --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border-inverse-active, var(--lwc-c-active-button-color-border-inverse, $color-gray-1));
  --lwc-c-button-icon-color-active: var(--lwc-c-button-icon-color-inverse-active, var(--lwc-c-active-button-color-inverse, $color-gray-3));

  &[disabled],
  &:disabled {
    --lwc-c-button-icon-color-background: $color-background-button-inverse-disabled;
    --lwc-c-button-icon-color-border: $color-border-button-inverse-disabled;
    --lwc-c-button-icon-color: $color-text-button-inverse-disabled;

    --lwc-c-button-icon-color-background-active: var(--lwc-c-button-icon-color-background);
    --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border);
    --lwc-c-button-icon-color-active: var(--lwc-c-button-icon-color);
  }

  &:focus {
    border: $border-width-thin solid var(--lwc-c-focus-button-color-border-inverse, $color-border-button-focus-inverse);
    box-shadow: var(--lwc-c-focus-button-box-shadow-inverse, $shadow-button-focus-inverse);
    outline: none;
  }
}

/**
 * @summary Provides visual feedback that a button icon has been pressed
 * @selector .lwc-is-pressed
 * @restrict .lwc-button-icon
 * @modifier
 */
.lwc-is-pressed {
  --lwc-c-button-icon-color-background: var(--lwc-c-button-icon-color-background-brand, var(--lwc-brand-accessible, $brand-accessible));
  --lwc-c-button-icon-color-border: var(--lwc-c-button-icon-color-border-brand, var(--lwc-brand-accessible, $brand-accessible));
  --lwc-c-button-icon-color: var(--lwc-c-button-icon-color-brand, $color-gray-1);
  --lwc-c-button-icon-shadow: var(--lwc-c-button-icon-shadow-brand, var(--lwc-c-button-shadow-brand, none));

  --lwc-c-button-icon-color-background-active: var(--lwc-c-button-icon-color-background-brand-active, var(--lwc-brand-accessible-active, $brand-accessible-active));
  --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border-brand, var(--lwc-brand-accessible-active, $brand-accessible-active));
  --lwc-c-button-icon-color-active: var(--lwc-c-button-icon-color-brand-active, $color-gray-1);
}

/**
 * @summary A button icon that invokes a menu
 * @selector .lwc-button-icon_menu
 * @restrict .lwc-button-icon
 * @modifier
 */
.lwc-button-icon_menu {
  --lwc-c-button-icon-color-background: var(--lwc-c-button-icon-color-background-neutral, $color-gray-1);
  --lwc-c-button-icon-color-border: var(--lwc-c-button-icon-color-border-neutral, $color-border);
  --lwc-c-button-icon-color-background-active: var(--lwc-c-button-icon-color-background-neutral-active, $color-gray-1);
  --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border-neutral, $color-border);

  &:after {
    content: '';
    width: 0;
    height: 0;
    border-left: 3px solid transparent;
    border-right: 3px solid transparent;
    border-top: 4px solid $color-gray-9;
    display: inline-flex;
    align-self: center;
    margin-right: $spacing-x-small;
  }

  &[disabled]:after,
  &:disabled:after {
    border-top-color: $color-gray-5;
  }
}

/**
 * @summary Inverse Variant
 * @selector .lwc-button-icon_inverse
 * @restrict .lwc-button-icon
 * @modifier
 */
.lwc-button-icon_inverse {
  --lwc-c-button-icon-color-background: var(--lwc-c-button-icon-color-background-inverse, transparent);
  --lwc-c-button-icon-color-active: var(--lwc-c-button-icon-color-inverse-active, $color-gray-1);
  --lwc-c-button-icon-shadow-active: var(--lwc-c-button-icon-shadow-active-inverse, $shadow-button-focus-inverse);
  --lwc-c-button-icon-color-border-active: var(--lwc-c-button-icon-color-border-inverse-active, $color-border-button-focus-inverse);
  // Override icon color
  --lwc-c-icon-color: var(--lwc-c-button-icon-color-inverse, $color-gray-1);
}
