// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

// ------------
// Init
// ------------
@import '../../../shared/common/init';

/**
 * @base
 * @name lwc-tabset
 * @summary Tabset Component
 * @selector .lwc-tabset
 * @restrict div
 * @variant
 */
.lwc-tabset {
  background-color: var(--lwc-c-tabset-color-background, $color-gray-1);
}

/**
 * @summary Scoped Tabset
 * @selector .lwc-tabset__scoped
 * @restrict .lwc-tabset
 * @modifier
 */
.lwc-tabset__scoped {
  border: $border-width-thin solid var(--lwc-c-tabset-scoped-color-border, $color-gray-5);
  border-radius: $border-radius-medium;
}

/**
 * @summary Vertical Tabset variant
 * @selector .lwc-tabset__vertical
 * @restrict .lwc-tabset
 * @modifier
 */
.lwc-tabset__vertical {
  display: flex;
  overflow: hidden;
  border: $border-width-thin solid $color-border;
  border-radius: $border-radius-medium;
}

/**
 * @summary Tabset tab content
 * @selector .lwc-tab
 * @restrict .lwc-tabset div
 */
.lwc-tab {
  padding-top: var(--var-spacing-vertical-medium, $var-spacing-vertical-medium);
  padding-bottom: var(--var-spacing-vertical-medium, $var-spacing-vertical-medium);
  display: none;

  /**
   * @summary Active tab modifier - displays currently active tab
   * @selector .lwc-is-active
   * @restrict .lwc-tab
   * @modifier
   */
  &.lwc-is-active {
    display: block;
  }
}


/**
 * @summary Tabset navigation container
 * @selector .lwc-tab-bar
 * @restrict .lwc-tabset > ul
 */


/**
 * @summary Tabset navigation item
 * @selector .lwc-tab-bar_nav-item
 * @restrict .lwc-tab-bar_nav > li
 */


/**
 * @summary Link item for tabset tab
 * @selector .lwc-tab-bar_nav-item-link
 * @restrict .lwc-tab-bar_nav-item > a, .lwc-tab-bar_nav-item > button
 */
.lwc-tab-bar_nav-item-link {
  position: relative;
  display: flex;
  align-items: center;
  padding-top: var(--var-spacing-vertical-small, $var-spacing-vertical-small);
  padding-bottom: var(--var-spacing-vertical-small, $var-spacing-vertical-small);
  padding-left: var(--var-spacing-horizontal-small, $var-spacing-horizontal-small);
  padding-right: var(--var-spacing-horizontal-small, $var-spacing-horizontal-small);
  color: var(--lwc-c-tabset-color-tab, $color-gray-12);
  white-space: nowrap;

  &:hover {
    text-decoration: none;
  }
}

/**
 * @summary Container for Tabset Nav Item Icon
 * @selector .lwc-tabset_nav-item-icon
 * @restrict .lwc-tabset_nav-item-link > div
 */
.lwc-tab-bar_nav-item-icon-start {
  display: flex;
  margin-right: var(--var-spacing-horizontal-x-small, $var-spacing-horizontal-x-small);
}

/**
 * @summary
 * @selector .lwc-tab-bar_nav-item-label
 * @restrict .lwc-tab-bar_nav-item-link > span
 */
.lwc-tab-bar_nav-item-label {
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/**
 * @summary Container for Tabset Nav Item Error Icon
 * @selector .lwc-tabset_nav-item-error
 * @restrict .lwc-tabset_nav-item-link > div
 */
.lwc-tab-bar_nav-item-icon-end {
  display: flex;
  margin-left: var(--var-spacing-horizontal-x-small, $var-spacing-horizontal-x-small);
}

/**
 * @summary Base modifier for the Tabset
 * @selector .lwc-tab-bar__base
 * @restrict .lwc-tab-bar
 * @modifier
 */
.lwc-tab-bar__base {
  display: flex;
  border-bottom: $border-width-thin solid var(--lwc-c-tabset-color-border, $color-gray-5);

  .lwc-tab-bar_nav-item-link {

    &:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 0;
    }

    /**
     * @summary modifier class for active tab
     * @selector .lwc-is-active
     * @restrict .lwc-tab-bar_nav-item-link
     * @modifier
     */
    &.lwc-is-active {
      color: var(--lwc-c-tabset-color-text-active, $brand-accessible);
      font-weight: bold;

      &:after {
        height: rem(3px);
        background-color: var(--lwc-c-tabset-color-background, $brand-primary);
      }
    }

    &:hover:after {
      height: rem(2px);
      background-color: var(--lwc-c-tabset-color-background-active, $brand-primary-active);
      transition: height 300ms;
    }
  }
}

/**
 * @summary Scoped Tabset
 * @selector .lwc-tab-bar__scoped
 * @restrict .lwc-tab-bars
 * @modifier
 */
.lwc-tab-bar__scoped {
  display: flex;
  border-bottom: $border-width-thin solid var(--lwc-c-tabset-color-border, $color-gray-5);
  background: var(--lwc-c-tabset-scoped-color-background, $color-gray-2);
  border-top-left-radius: $border-radius-medium;
  border-top-right-radius: $border-radius-medium;

  .lwc-tab-bar_nav-item {

    &:first-child .lwc-tab-bar_nav-item-link {
      border-top-left-radius: $border-radius-medium;
      border-left: 0;
    }

    &:not(:first-child) {
      margin-left: ($border-width-thin * -1);
    }
  }

  .lwc-tab-bar_nav-item-link {
    box-sizing: content-box;
    display: block;
    margin-bottom: ($border-width-thin * -1);
    border-left: $border-width-thin solid transparent;
    border-right: $border-width-thin solid transparent;
    // stylelint-disable function-calc-no-unspaced-operator
    padding-bottom: var(calc(--var-spacing-vertical-small + $border-width-thin), calc($var-spacing-vertical-small + $border-width-thin));
    // stylelint-enable function-calc-no-unspaced-operator

    &.lwc-is-active {
      border-color: var(--lwc-c-tabset-scoped-color-border, $color-gray-5);
      background: var(--lwc-c-tabset-scoped-color-background-active, $color-gray-1);
    }

    &:hover {
      border-color: var(--lwc-c-tabset-scoped-color-border, $color-gray-5);
    }
  }
}

/**
 * @summary Vertical Tabset
 * @selector .lwc-tab-bar__vertical
 * @restrict .lwc-tab-bar
 * @variant
 */
.lwc-tab-bar__vertical {
  margin-bottom: -1px;
  height: 100%;
  width: $size-x-small;
  border-right: $border-width-thin solid var(--lwc-c-tabset-scoped-color-border, $color-gray-5);
  background: var(--lwc-c-tabset-vertical-color-background, $color-gray-3);

  .lwc-tab-bar_nav-item-link {
    box-sizing: content-box;
    border-bottom: $border-width-thin solid var(--lwc-c-tabset-scoped-color-border, $color-gray-5);
    padding-top: var(--var-spacing-vertical-small, $var-spacing-vertical-small);
    padding-bottom: var(--var-spacing-vertical-small, $var-spacing-vertical-small);
    padding-right: var(--var-spacing-horizontal-small, $var-spacing-horizontal-small);

    &:hover {
      background: var(--lwc-c-tabset-nav-vertical-color-background, $color-gray-5);
      color: var(--lwc-c-tabset-nav-vertical-color-text, $color-text-action-label-active);
    }

    &.lwc-is-active {
      margin-right: ($border-width-thin * -1);
      // stylelint-disable function-calc-no-unspaced-operator
      padding-right: var(calc(--var-spacing-horizontal-small + $border-width-thin), calc($var-spacing-horizontal-small + $border-width-thin));
      // stylelint-enable function-calc-no-unspaced-operator
      background: var(--lwc-c-tabset-vertical-color-background-active, $color-gray-1);
      color: var(--lwc-c-tabset-vertical-color-text-active, $brand-accessible);
    }
  }

  .lwc-tab-bar_nav-item-label {
    flex: 1;
  }
}

/**
 * @summary Scoped Tabset contnet
 * @selector .lwc-tab__scoped
 * @restrict .lwc-tab
 * @modifier
 */
.lwc-tab__scoped {
  padding-left: var(--var-spacing-horizontal-medium, $var-spacing-horizontal-medium);
  padding-right: var(--var-spacing-horizontal-medium, $var-spacing-horizontal-medium);
}

/**
 * @summary Vertical Tabset content
 * @selector .lwc-tab__vertical
 * @restrict .lwc-tab
 * @modifier
 */
.lwc-tab__vertical {
  padding-left: var(--var-spacing-horizontal-medium, $var-spacing-horizontal-medium);
  padding-right: var(--var-spacing-horizontal-medium, $var-spacing-horizontal-medium);
}
